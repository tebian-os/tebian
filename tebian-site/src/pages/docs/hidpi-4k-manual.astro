---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="The HiDPI & 4K Manual ‚Äî Tebian">
	<main class="resource">
		<header>
			<span class="category">Resources</span>
			<h1>The HiDPI & 4K Manual</h1>
			<p class="subtitle">Glass-Sharp Displays: Configuring 4K, Retina, and HiDPI Scaling.</p>
		</header>

		<article class="content">
			<section class="overview">
				<h2>The Strategy</h2>
				<p>In the "Old Linux" world (X11), 4K scaling was a nightmare of blurry text and misaligned icons. Wayland and **Sway** have fixed this at the C-level. Tebian provides a "one-click" setup for <strong>HiDPI Scaling</strong> that ensures every pixel is sharp, from your terminal to your web browser.</p>
				
				<p>This guide explains how to configure Tebian for high-resolution displays (Retina, 4K monitors, and modern laptop screens).</p>
			</section>

			<div class="resource-grid">
				<div class="resource-box">
					<h3>1. Output Scaling (Sway)</h3>
					<p>Sway's native scaling is superior to traditional OS scaling because it happens in the <strong>Compositor</strong>. We pre-configure the <code>output * scale 2</code> command for detected 4K displays.</p>
					<ul>
						<li><strong>Integer Scaling:</strong> We recommend 2x (200%) scaling for 4K displays to maintain sharp, non-interpolated pixels.</li>
						<li><strong>Fractional Scaling:</strong> Sway supports 1.25x, 1.5x, and 1.75x, though integer scaling is always "cleaner" for the GPU.</li>
						<li><strong>Per-Monitor:</strong> You can set different scales for different monitors (e.g., 2x for the laptop, 1x for the external monitor) with zero flicker.</li>
					</ul>
				</div>

				<div class="resource-box">
					<h3>2. Toolkit Scaling (GDK & QT)</h3>
					<p>Sway's output scaling only handles the window management. To get your actual apps (like Firefox or PCManFM) to look sharp, you need to set the <strong>GDK_SCALE</strong> and <strong>QT_SCALE_FACTOR</strong> environment variables.</p>
					<ul>
						<li><strong>GDK_SCALE=2:</strong> Sharpens GTK-based apps (Firefox, LibreOffice).</li>
						<li><strong>QT_SCALE_FACTOR=2:</strong> Sharpens QT-based apps (VLC, Bitwig).</li>
						<li><strong>Tebian Profile:</strong> We pre-populate these in <code>~/.profile</code> during the HiDPI setup.</li>
					</ul>
				</div>

				<div class="resource-box">
					<h3>3. Font Rendering (Pango)</h3>
					<p>Sharp displays require sharp fonts. Tebian uses <strong>Pango</strong> and <strong>Freetype</strong> with custom font-config settings to ensure your text is clear and readable on any resolution.</p>
					<ul>
						<li><strong>Hinting:</strong> We enable <code>slight</code> hinting for the best balance between sharpness and character shape.</li>
						<li><strong>Anti-Aliasing:</strong> Subpixel rendering (RGBA) is enabled by default.</li>
						<li><strong>Nerd Fonts:</strong> We use JetBrains Mono Nerd Font as our system font for its exceptional 4K clarity.</li>
					</ul>
				</div>

				<div class="resource-box warning">
					<h3>4. Browser Hardware Acceleration</h3>
					<p>On 4K displays, the browser has to render 4x as many pixels as on 1080p. To keep it smooth, you <strong>must</strong> have GPU hardware acceleration enabled. Tebian's "HiDPI Setup" automatically configures <strong>VA-API</strong> for your browser.</p>
					<ul>
						<li><strong>Zero Frame Drops:</strong> Smooth 4K YouTube playback on any hardware.</li>
						<li><strong>GPU Rendering:</strong> Offloads text rendering and CSS animations to your NVIDIA/AMD card.</li>
					</ul>
				</div>
			</div>

			<section class="deep-dive">
				<h2>Why HiDPI on Tebian?</h2>
				<p>Because our compositor (Sway) is written in C and our theme (Stealth Glass) is minimal, there is no "Performance Penalty" for 4K scaling. You get the world's sharpest display experience with the world's fastest UI. One ISO. One menu. Glass-sharp productivity.</p>
			</section>
		</article>

		<div class="nav">
			<a href="/rigs">‚Üê Back to Rigs</a>
			<a href="/blog/nvidia-wayland">The Hardware Blog ‚Üí</a>
		</div>
	</main>
</Layout>

<style>
	.resource {
		max-width: 1000px;
		width: 100%;
		padding: 4rem 1rem;
	}

	header {
		margin-bottom: 4rem;
		text-align: center;
	}

	.category {
		color: var(--accent);
		text-transform: uppercase;
		letter-spacing: 0.1em;
		font-weight: 700;
		font-size: 0.8rem;
	}

	h1 {
		font-size: 3.5rem;
		color: #fff;
		margin: 0.5rem 0;
		line-height: 1.1;
		font-weight: 800;
	}

	.subtitle {
		color: #9399b2;
		font-size: 1.25rem;
		font-style: italic;
	}

	h2 {
		color: var(--accent);
		font-size: 2rem;
		margin: 3rem 0 1.5rem 0;
	}

	p {
		color: #9399b2;
		line-height: 1.8;
		margin-bottom: 2rem;
		font-size: 1.1rem;
	}

	.resource-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
		gap: 2rem;
		margin-bottom: 4rem;
	}

	.resource-box {
		background: rgba(255, 255, 255, 0.02);
		padding: 2.5rem;
		border-radius: 20px;
		border: 1px solid rgba(255, 255, 255, 0.05);
	}

	.resource-box.warning {
		border-color: rgba(243, 139, 168, 0.3);
		background: rgba(243, 139, 168, 0.05);
	}

	.resource-box h3 {
		font-size: 1.5rem;
		color: #cdd6f4;
		margin-bottom: 1rem;
	}

	.resource-box ul {
		list-style: none;
		padding: 0;
		margin-top: 1.5rem;
		display: flex;
		flex-direction: column;
		gap: 0.75rem;
	}

	.resource-box li {
		color: #9399b2;
		padding-left: 1.5rem;
		position: relative;
		font-size: 0.95rem;
	}

	.resource-box li::before {
		content: "üíé";
		position: absolute;
		left: 0;
	}

	.nav {
		margin-top: 4rem;
		padding-top: 2rem;
		border-top: 1px solid rgba(255, 255, 255, 0.05);
		display: flex;
		justify-content: space-between;
	}

	.nav a {
		color: #6c7086;
		text-decoration: none;
		font-size: 0.9rem;
		transition: color 0.2s;
	}

	.nav a:hover {
		color: var(--accent);
	}

	@media (max-width: 640px) {
		.resource-grid { grid-template-columns: 1fr; }
	}
</style>
